<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Overloaded Methods" href="overloaded_methods.html" /><link rel="prev" title="Constructors" href="constructors.html" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>Functions and Methods - Rice documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Rice  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Rice  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../types.html">Types</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Types</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../types/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types/conversion.html">Type Conversions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types/wrapping.html">Type Wrapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types/strings.html">Strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types/naming.html">Auto Generated Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types/converters.html">Type Converters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types/verification.html">Type Verification</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../bindings.html">Bindings</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Bindings</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="constructors.html">Constructors</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Functions and Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="overloaded_methods.html">Overloaded Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="overloaded_methods.html#getters-and-setters">Getters and Setters</a></li>
<li class="toctree-l2"><a class="reference internal" href="overloaded_methods.html#template-parameter">Template Parameter</a></li>
<li class="toctree-l2"><a class="reference internal" href="overloaded_methods.html#using">Using</a></li>
<li class="toctree-l2"><a class="reference internal" href="overloaded_methods.html#typedef">Typedef</a></li>
<li class="toctree-l2"><a class="reference internal" href="overloaded_methods.html#method-resolution">Method Resolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="overloaded_methods.html#type-mapping">Type Mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="attributes.html">Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="enums.html">Enums</a></li>
<li class="toctree-l2"><a class="reference internal" href="constants.html">Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="iterators.html">Iterators</a></li>
<li class="toctree-l2"><a class="reference internal" href="pointers.html">Pointers</a></li>
<li class="toctree-l2"><a class="reference internal" href="buffers.html">Buffers</a></li>
<li class="toctree-l2"><a class="reference internal" href="class_templates.html">Class Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="operators.html">C++ Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory_management.html">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="inheritance.html">Inheritance</a></li>
<li class="toctree-l2"><a class="reference internal" href="callbacks.html">Callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="instance_registry.html">Instance Registry</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../stl.html">STL</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of STL</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../stl/stl.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/complex.html">std::complex</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/exception.html">std::exception</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/exception_ptr.html">std::exception_ptr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/map.html">std::map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/multimap.html">std::multimap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/optional.html">std::optional</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/pair.html">std::pair</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/reference_wrapper.html">std::reference_wrapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/set.html">std::set</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/smart_pointers.html">Smart Pointers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/string.html">std::string</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/string_view.html">std::string_view</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/tuple.html">std::tuple</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/type_index.html">std::type_index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/type_info.html">std::type_info</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/unordered_map.html">std::unordered_map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/variant.html">std::variant</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stl/vector.html">std::vector</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../cpp_api.html">C++ API</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of C++ API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../cpp_api/overview.html">Ruby C++ API</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../introspection_api.html">Introspection API</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Introspection API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../introspection_api/overview.html">Ruby Introspection API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introspection_api/registries.html">Rice::Registries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introspection_api/native_registry.html">Rice::NativeRegistry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introspection_api/type_registry.html">Rice::TypeRegistry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introspection_api/native.html">Rice::Native</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introspection_api/parameter.html">Rice::Parameter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introspection_api/arg.html">Rice::Arg</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../packaging.html">Packaging</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Packaging</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../packaging/packaging.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packaging/extconf.rb.html">extconf.rb</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packaging/cmake.html">CMake</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packaging/rbs.html">RBS Signature Files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../why_rice.html">Why Rice?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../architecture.html">Architecture</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Architecture</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../architecture/enumerators.html">Enumerators</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/bindings/methods.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="functions-and-methods">
<span id="methods"></span><h1>Functions and Methods<a class="headerlink" href="#functions-and-methods" title="Link to this heading">¶</a></h1>
<p>In the <a class="reference internal" href="../tutorial.html#tutorial"><span class="std std-ref">Tutorial</span></a> we touched upon how to wrap C++ functions, static member functions and member functions. Now let’s go into more depth.</p>
<section id="default-arguments">
<span id="id1"></span><h2>Default Arguments<a class="headerlink" href="#default-arguments" title="Link to this heading">¶</a></h2>
<p>Going back to our initial C++ class example, lets add additional arguments to the <code class="docutils literal notranslate"><span class="pre">hello()</span></code> method, one of which has a default value:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Test</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">  </span><span class="n">Test</span><span class="p">();</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">hello</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">first</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;world&quot;</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Since default parameter values are not available through templates, it is necessary to tell Rice about it using <code class="docutils literal notranslate"><span class="pre">Rice::Arg</span></code>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;rice/rice.hpp&gt;</span>

<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">Rice</span><span class="p">;</span>

<span class="k">extern</span><span class="w"> </span><span class="s">&quot;C&quot;</span>
<span class="kt">void</span><span class="w"> </span><span class="n">Init_test</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">Data_Type</span><span class="o">&lt;</span><span class="n">Test</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rb_cTest</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="n">define_class</span><span class="o">&lt;</span><span class="n">Test</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;Test&quot;</span><span class="p">).</span>
<span class="w">    </span><span class="n">define_constructor</span><span class="p">(</span><span class="n">Constructor</span><span class="o">&lt;</span><span class="n">Test</span><span class="o">&gt;</span><span class="p">()).</span>
<span class="w">    </span><span class="n">define_method</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">Test</span><span class="o">::</span><span class="n">hello</span><span class="p">,</span>
<span class="w">       </span><span class="n">Arg</span><span class="p">(</span><span class="s">&quot;first&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">Arg</span><span class="p">(</span><span class="s">&quot;second&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;world&quot;</span>
<span class="w">    </span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The syntax is <code class="docutils literal notranslate"><span class="pre">Arg(nameOfParameter)[</span> <span class="pre">=</span> <span class="pre">defaultValue]</span></code>. If using <a class="reference internal" href="#keyword-arguments"><span class="std std-ref">Keyword Arguments</span></a>, then the name of the parameter must match the name of the Ruby parameter. Otherwise it is not important. In either case, the value set by the <code class="docutils literal notranslate"><span class="pre">operator=</span></code> must match the type of the parameter. As such it may be necessary to explicitly cast the default value.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="n">define_method</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="o">&amp;</span><span class="n">Test</span><span class="o">::</span><span class="n">hello</span><span class="p">,</span>
<span class="w">   </span><span class="n">Arg</span><span class="p">(</span><span class="s">&quot;first&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">Arg</span><span class="p">(</span><span class="s">&quot;second&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">)</span><span class="s">&quot;world&quot;</span>
<span class="p">);</span>
</pre></div>
</div>
<p>These <code class="docutils literal notranslate"><span class="pre">Rice::Arg</span></code> objects must be in the correct positional order. Thus if the second argument has a default value, then there must be two Arg objects.</p>
<p>Now, Ruby will now know about the default arguments, and this wrapper can be used as expected:</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Test</span><span class="o">.</span><span class="n">new</span>
<span class="n">t</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>
<span class="n">t</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="s2">&quot;goodnight&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;moon&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This also works with Constructors:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="n">define_constructor</span><span class="p">(</span><span class="n">Constructor</span><span class="o">&lt;</span><span class="n">SomeClass</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(),</span>
<span class="w">    </span><span class="n">Arg</span><span class="p">(</span><span class="s">&quot;arg1&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">Arg</span><span class="p">(</span><span class="s">&quot;otherArg&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="output-parameters">
<h2>Output Parameters<a class="headerlink" href="#output-parameters" title="Link to this heading">¶</a></h2>
<p>Some C/C++ APIs use output parameter to return multiple values from a functiom. To wrap these functions you can use either <a class="reference internal" href="buffers.html#out-parameters"><span class="std std-ref">Buffers</span></a> or <a class="reference internal" href="../stl/tuple.html#out-parameters-tuple"><span class="std std-ref">Tuples</span></a>.</p>
</section>
<section id="return">
<span id="id2"></span><h2>Return<a class="headerlink" href="#return" title="Link to this heading">¶</a></h2>
<p>Similarly to the <code class="docutils literal notranslate"><span class="pre">Arg</span></code> class, Rice also supports a <code class="docutils literal notranslate"><span class="pre">Return</span></code> class that let’s you tell Rice how to handle returned values from C++. This is particularly important in correctly managing memory (see <a class="reference internal" href="memory_management.html#cpp-to-ruby"><span class="std std-ref">C++ to Ruby</span></a>).</p>
<p>It is also helpful in dealing with Ruby’s VALUE type which represent Ruby objects. Most of the time Rice will automatically handle VALUE instances, but if a native method takes a VALUE argument or returns a VALUE instance then you have tell Rice.</p>
<p>This is because VALUE is a typedef for <code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">long</span> <span class="pre">long</span></code> - but under the hood it is really a pointer to a Ruby object. However, to Rice it is just an integer that needs to be converted to a Ruby numeric value. As a result, if a method takes a VALUE parameter then Rice will convert it to a C++ unsigned long long value instead of  passing it through. Similarly, if a method returns a VALUE then Rice will also convert it to a numeric Ruby object as opposed to simply returning it.</p>
<p>To avoid this incorrect conversion, use the <code class="docutils literal notranslate"><span class="pre">setValue()</span></code> method on the <code class="docutils literal notranslate"><span class="pre">Arg</span></code> and <code class="docutils literal notranslate"><span class="pre">Return</span></code> classes. For example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">VALUE</span><span class="w"> </span><span class="nf">some_function</span><span class="p">(</span><span class="n">VALUE</span><span class="w"> </span><span class="n">ary</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">VALUE</span><span class="w"> </span><span class="n">new_ary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rb_ary_dup</span><span class="p">(</span><span class="n">ary</span><span class="p">);</span>
<span class="w">  </span><span class="n">rb_ary_push</span><span class="p">(</span><span class="n">new_ary</span><span class="p">,</span><span class="w"> </span><span class="n">Qtrue</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">new_ary</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">define_global_function</span><span class="p">(</span><span class="s">&quot;some_function&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">some_function</span><span class="p">,</span><span class="w"> </span><span class="n">Arg</span><span class="p">(</span><span class="s">&quot;ary&quot;</span><span class="p">).</span><span class="n">setValue</span><span class="p">(),</span><span class="w"> </span><span class="n">Return</span><span class="p">().</span><span class="n">setValue</span><span class="p">());</span>
</pre></div>
</div>
<p>Note that you can mix <code class="docutils literal notranslate"><span class="pre">Arg</span></code> and <code class="docutils literal notranslate"><span class="pre">Return</span></code> objects in any order. For example this also works:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">define_global_function</span><span class="p">(</span><span class="s">&quot;some_function&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">some_function</span><span class="p">,</span><span class="w"> </span><span class="n">Return</span><span class="p">.</span><span class="n">setValue</span><span class="p">(),</span><span class="w"> </span><span class="n">Arg</span><span class="p">(</span><span class="s">&quot;ary&quot;</span><span class="p">).</span><span class="n">setValue</span><span class="p">());</span>
</pre></div>
</div>
</section>
<section id="keyword-arguments">
<span id="id3"></span><h2>Keyword Arguments<a class="headerlink" href="#keyword-arguments" title="Link to this heading">¶</a></h2>
<p>Starting with version 4.5, Rice supports using Ruby keyword parameters to call C++ functions. The names of the keyword arguments must match the names specified in the <code class="docutils literal notranslate"><span class="pre">Arg</span></code> parameters used to define the method. The actual underlying names of the C++ parameters are irrelevant because C++ templates have no access to them.</p>
<p>For example, reusing the example above:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="n">define_method</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="o">&amp;</span><span class="n">Test</span><span class="o">::</span><span class="n">hello</span><span class="p">,</span>
<span class="w">   </span><span class="n">Arg</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">Arg</span><span class="p">(</span><span class="s">&quot;second&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">)</span><span class="s">&quot;world&quot;</span>
<span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">hello</span></code> function can be called from Ruby like this:</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="nb">test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Test</span><span class="o">.</span><span class="n">new</span>
<span class="nb">test</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="ss">first</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;World&quot;</span><span class="p">)</span>
<span class="nb">test</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="ss">first</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1"># This is ok because the second parameter has a default value</span>
</pre></div>
</div>
<p>And it can also be called in the traditional manner like this:</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="nb">test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Test</span><span class="o">.</span><span class="n">new</span>
<span class="nb">test</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;World&quot;</span><span class="p">)</span>
<span class="nb">test</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The ability to call the function in two different ways (position and keyword) could cause problems in your extensions if you change its API in the future. Imagine that you decide to move some code from C++ to Ruby - you will need to chose one of the two forms. That could result in breaking code that uses your extension because some users may have used positional arguments and others keyword arguments. However, this seems quite low risk though so Rice only supports defining arguments using the <code class="docutils literal notranslate"><span class="pre">Arg</span></code> class. In the future Rice may introduce a <code class="docutils literal notranslate"><span class="pre">KeyArg</span></code> class to avoid this issue.</p>
</section>
<section id="return-self">
<span id="id4"></span><h2>Return Self<a class="headerlink" href="#return-self" title="Link to this heading">¶</a></h2>
<p>In the case of methods that return <code class="docutils literal notranslate"><span class="pre">self</span></code> - meaning they return back the same C++ object that was the receiver of the function call - Rice ensures that the same Ruby object is returned. Returning self is a common pattern in Ruby.</p>
<p>For example:</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Array</span><span class="o">.</span><span class="n">new</span>
<span class="n">a</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">4</span>
</pre></div>
</div>
<p>The above code works because the <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> method returns the Array <code class="docutils literal notranslate"><span class="pre">a</span></code>. You can mimic this behavior by the use of lambdas when wrapping C++ classes. For example, Rice wraps <code class="docutils literal notranslate"><span class="pre">std::vector</span></code> like this:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">define_vector</span><span class="o">&lt;</span><span class="kt">int32_t</span><span class="o">&gt;</span><span class="p">().</span>
<span class="n">define_method</span><span class="p">(</span><span class="s">&quot;&lt;&lt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[](</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int32_t</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int32_t</span><span class="o">&gt;&amp;</span><span class="w">  </span><span class="c1">// &lt;----- DON&#39;T MISS THIS</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">self</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">;</span><span class="w">  </span><span class="c1">// &lt;------  Allows chaining on calls</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Pay careful attention to the lambda return type of <code class="docutils literal notranslate"><span class="pre">std::vector&lt;int32_t&gt;&amp;</span></code>. If the return type is <em>not</em> specified, then by default the lambda will return by value. That will invoke <code class="docutils literal notranslate"><span class="pre">std::vector</span></code>’s copy constructor, resulting in <em>two</em> <code class="docutils literal notranslate"><span class="pre">std::vector&lt;int32_t&gt;</span></code> instance and two Ruby objects. Not at all what you want.</p>
</section>
<section id="lambda-functions">
<h2>Lambda Functions<a class="headerlink" href="#lambda-functions" title="Link to this heading">¶</a></h2>
<p>Ruby classes are expected to define a <code class="docutils literal notranslate"><span class="pre">to_s</span></code> method that provides a string representation of an object. A good way of adding addition methods to a class is to use lambda functions:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Data_Type</span><span class="o">&lt;</span><span class="n">Test</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rb_cTest</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="n">define_class</span><span class="o">&lt;</span><span class="n">Test</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;Test&quot;</span><span class="p">).</span>
<span class="w">  </span><span class="n">define_method</span><span class="p">(</span><span class="s">&quot;to_s&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[](</span><span class="n">Test</span><span class="o">&amp;</span><span class="w"> </span><span class="n">self</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&lt;Test&gt;&quot;</span><span class="p">;</span>
<span class="w">  </span><span class="p">});</span>
</pre></div>
</div>
<p>We define the <code class="docutils literal notranslate"><span class="pre">to_s</span></code> method to take a single parameter, self, which is an C++ instance of <code class="docutils literal notranslate"><span class="pre">Test</span></code>. Note that <code class="docutils literal notranslate"><span class="pre">self</span></code> is passed by reference - we do not want to create a copy of the Test object!</p>
<p>The lambda function can take any number of additional parameters. It can be either a stateless or stateful lambda.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="overloaded_methods.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Overloaded Methods</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="constructors.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Constructors</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Paul Brannon, Jason Roelofs, Charlie Savage
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Functions and Methods</a><ul>
<li><a class="reference internal" href="#default-arguments">Default Arguments</a></li>
<li><a class="reference internal" href="#output-parameters">Output Parameters</a></li>
<li><a class="reference internal" href="#return">Return</a></li>
<li><a class="reference internal" href="#keyword-arguments">Keyword Arguments</a></li>
<li><a class="reference internal" href="#return-self">Return Self</a></li>
<li><a class="reference internal" href="#lambda-functions">Lambda Functions</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    </body>
</html>